<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-145065218-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="NodeGui" href="/opensearch.xml"><title data-react-helmet="true">getting-started | NodeGui</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="getting-started | NodeGui"><meta data-react-helmet="true" name="description" content="Getting started"><meta data-react-helmet="true" property="og:description" content="Getting started"><meta data-react-helmet="true" property="og:url" content="https://nodegui.org/docs/development/getting-started"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://nodegui.org/docs/development/getting-started"><link rel="stylesheet" href="/styles.920797bd.css">
<link rel="preload" href="/styles.1b28431e.js" as="script">
<link rel="preload" href="/runtime~main.2c448098.js" as="script">
<link rel="preload" href="/main.c78546e3.js" as="script">
<link rel="preload" href="/1.386a6db3.js" as="script">
<link rel="preload" href="/2.2ece8892.js" as="script">
<link rel="preload" href="/3.8184ab2d.js" as="script">
<link rel="preload" href="/1be78505.afc94944.js" as="script">
<link rel="preload" href="/411.da87afc2.js" as="script">
<link rel="preload" href="/935f2afb.84f2e551.js" as="script">
<link rel="preload" href="/17896441.14a2377a.js" as="script">
<link rel="preload" href="/13948826.53035abb.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-circle.png" alt="NodeGui Logo"><strong class="navbar__title">NodeGui</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/guides/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/api/manual/synopsis">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/nodegui/nodegui" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo-circle.png" alt="NodeGui Logo"><strong class="navbar__title">NodeGui</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guides/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/api/manual/synopsis">API</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/nodegui/nodegui" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">getting-started</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getting-started"></a>Getting started<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>This library aims to be a nodejs addon which can export Qt Widgets to the Javascript world. By doing so one can develop fully fledged cross platform native GUI applications using only Javascript.</p><p>The library depends on <code>qode</code> which is a lightly modified version of NodeJS. The slight modification was needed to make it work with this addon. In essense, we will do <code>qode your_file.js</code> instead of <code>node your_file.js</code>.</p><p>Qode is inspired by this post by <a href="https://github.com/zcbenz" target="_blank" rel="noopener noreferrer">Cheng Zhao</a>: <a href="https://electronjs.org/blog/electron-internals-node-integration" target="_blank" rel="noopener noreferrer">https://electronjs.org/blog/electron-internals-node-integration</a></p><p>This library does not modify Qt in any way and only use it as it is. This library also dynamically links to Qt. So it needs Qt libs to be installed in your system to work (This is done to keep in compliance with open source LGPL license of Qt). We can think of exporting the required libs later.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="code-structure"></a>Code Structure<a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-structure" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ binding.gyp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ demo.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ src</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ cpp    &lt;-- C++ source code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ lib    &lt;-- Typescript source code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ tsconfig.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ yarn.lock</span></div></div></div></div></div><p>The main folder is <code>src</code>. It contains</p><ul><li><code>cpp</code> : This folder contains all the C++ source code. Basically all the wrapper code using NAPI to export Qt Widgets and other helper functions to Javascript.</li><li><code>lib</code> : This folder contains all the Typescript code of the library. This is used to add additonal helper methods and types to exported addon.</li></ul><p><strong>Detailed version:</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ binding.gyp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ application.gypi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ common.gypi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ yoga.gypi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ demo.ts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ src</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ cpp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Extras</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ QtGui         &lt;------ All exported classes found inside Qts Gui dynamic library</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ QtWidgets     &lt;------ All exported classes found inside Qts Widgets dynamic library</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ core</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”‚Â Â  â””â”€â”€ main.cpp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ lib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â”œâ”€â”€ QtGui</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â”œâ”€â”€ QtWidgets</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â      â””â”€â”€ core</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ tsconfig.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ yarn.lock</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>First step to seeing how everything works is to take a look at <code>demo.ts</code> file. This file is basically like a Kitchen application showcasing all the exported widgets currently with the library.</p><p>Make sure you have read how to write native NodeJS Addons blog first. <a href="https://medium.com/@atulanand94/beginners-guide-to-writing-nodejs-addons-using-c-and-n-api-node-addon-api-9b3b718a9a7f" target="_blank" rel="noopener noreferrer">https://medium.com/@atulanand94/beginners-guide-to-writing-nodejs-addons-using-c-and-n-api-node-addon-api-9b3b718a9a7f</a></p><p>Once you have done that check out <code>src/cpp/main.cpp</code> and <code>config/application.gypi</code> to see the list of exported C++ classes.</p><p>Then maybe you can take a look at <code>src/cpp/QtWidgets/QLabel/qlabel_wrap.h</code>. This will show you how to wrap a simple Qt Widget.
Check the corresponding JS file for the addon here <code>src/lib/QtWidgets/QLabel/index.ts</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="wrapping-a-widget"></a>Wrapping a widget<a aria-hidden="true" tabindex="-1" class="hash-link" href="#wrapping-a-widget" title="Direct link to heading">#</a></h2><p>Create wrappers for each and every Qt class that you will use with N-API (using node-addon-api since it is c++) and export it onto JS side.</p><p>Taking the example of QLabel, if you look inside the directory <code>src/cpp/QtWidgets/QLabel</code>, you should see:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ QLabel</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ nlabel.cpp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ nlabel.h     &lt;---- Extended QLabel</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ nlabel_moc.cpp &lt;--- Autogenerated file by qt moc.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â”œâ”€â”€ qlabel_wrap.cpp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚Â Â  â””â”€â”€ qlabel_wrap.h &lt;--- Wrapper file</span></div></div></div></div></div><p>The idea is :</p><ol><li>We will first extend QLabel class to form NLabel. NLabel is basically QLabel with some extra methods and variables. More on it below.</li><li>Then we will use NLabel and wrap it using NAPI and export it to JS side. This is what qlabel_wrap does.</li></ol><p><strong>NLabel</strong>: Since NLabel has inherited from QLabel we can treat is as QLabel with extra methods and properties. Primary reason to extend QLabel to create NLabel is to add support for Event listeners and CSS styling using Flex.
So if you take a look at NLabel you will see, it inherits from QLabel and NodeWidget. NodeWidget inturn inherits from YogaWidget and EventWidget. Event widget adds event handling support. YogaWidget is a class that contains the magic that enables a regular Qt Widget to have Yoga node. A Yoga node is an instance used by yoga library to calculate a widgets position on the screen. Yoga is a library that will layout the widget on the screen. To do so we will specify the flex properties like alignitems, justify content, margin, paddings etc on the Yoga node of the widget. Apart from adding yoga node, YogaWidget adds support for specifying those yoga properties via Qt&#x27;s stylesheet. (This is done by using Q_PROPERTY). To make this work we need to use something called as Q_OBJECT inside the class which is a C++ macro. Q_OBJECT will be expanded to relevant code by the compiler. In Qt whenever we add Q_OBJECT to a header file, we need to use a pre compiler called Qt MOC (Meta Object Compiler). The way we use it is</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">moc headername.h -o headername_moc.cpp --include &lt;any_include_file_which_contains_macro&gt;  // example : ../../core/YogaWidget/yogawidget.h</span></div></div></div></div></div><p>So for nlabel I would run it as:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">moc nlabel.h -o nlabel_moc.cpp --include ../../core/YogaWidget/yogawidget.h</span></div></div></div></div></div><p>This will run moc on <code>headername.h</code> and generate <code>headername_moc.cpp</code>. We will include <code>headername_moc.cpp</code> in <code>config/moc.gypi</code>. If you dont do this. Then it will give a symbol not found error.</p><p>I hope QLabel&#x27;s example is enough for now. For more examples and inspirations we can take a look at other wrapped widgets.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="learning-materials"></a>Learning Materials<a aria-hidden="true" tabindex="-1" class="hash-link" href="#learning-materials" title="Direct link to heading">#</a></h2><ol><li>Beginners guide to NodeJS Addon - <a href="https://medium.com/@atulanand94/beginners-guide-to-writing-nodejs-addons-using-c-and-n-api-node-addon-api-9b3b718a9a7f" target="_blank" rel="noopener noreferrer">https://medium.com/@atulanand94/beginners-guide-to-writing-nodejs-addons-using-c-and-n-api-node-addon-api-9b3b718a9a7f</a></li><li>First read this: N-API in nodejs docs</li><li><a href="https://www.youtube.com/watch?v=-Oniup60Afs&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=-Oniup60Afs&amp;feature=youtu.be</a></li><li>See samples at <a href="https://github.com/nodejs/abi-stable-node-addon-examples/" target="_blank" rel="noopener noreferrer">https://github.com/nodejs/abi-stable-node-addon-examples/</a>
4.1. You can see the readme of <a href="https://github.com/nodejs/node-addon-api.git/" target="_blank" rel="noopener noreferrer">https://github.com/nodejs/node-addon-api.git/</a></li><li>See node-qt implementation. It is implemented in Nan (explained in video).</li><li>Now try to match the implementation in node-qt and convert to N-API using examples from samples.</li><li>Implementations not in node-qt need to be done with effort.</li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nodegui/nodegui/edit/master/website/docs/development/getting-started.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting started</a></li><li><a href="#code-structure" class="table-of-contents__link">Code Structure</a></li><li><a href="#wrapping-a-widget" class="table-of-contents__link">Wrapping a widget</a></li><li><a href="#learning-materials" class="table-of-contents__link">Learning Materials</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/manual/synopsis">API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://spectrum.chat/nodegui" target="_blank" rel="noopener noreferrer" class="footer__link-item">Spectrum</a></li><li class="footer__item"><a href="https://nodegui.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/node_gui" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://medium.com/nodegui" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://react.nodegui.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">React NodeGui</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/faq">FAQ</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2022 NodeGui</div></div></div></footer></div>
<script src="/styles.1b28431e.js"></script>
<script src="/runtime~main.2c448098.js"></script>
<script src="/main.c78546e3.js"></script>
<script src="/1.386a6db3.js"></script>
<script src="/2.2ece8892.js"></script>
<script src="/3.8184ab2d.js"></script>
<script src="/1be78505.afc94944.js"></script>
<script src="/411.da87afc2.js"></script>
<script src="/935f2afb.84f2e551.js"></script>
<script src="/17896441.14a2377a.js"></script>
<script src="/13948826.53035abb.js"></script>
</body>
</html>